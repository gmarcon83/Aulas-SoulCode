<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="author" content="Giovanni Marcon">

    <title>Exercício datas</title>

    <style>
        input {
            font-size: 1.3em;
            width: 300px;
            margin: 6px;
            padding: 10px;
        }

        button {
            font-size: 1.3em;
            margin: 6px;
            padding: 9px;
        }
    </style>

    <script>

        let input, display;
        let data = new Date();
        let agora = `O dia é ${data.getDate() + 1}/${ad0s(data.getMonth() + 1, 2)}/${data.getFullYear()} - ${diaDaSemana(data.getDay())}`

        // Atribui valores as variáveis após finalizar o carregamento da página
        window.onload = () => {
            input = document.getElementById("input");
            display = document.getElementById("display");
            document.getElementById("dia-de-hoje").innerHTML = agora
        };

        function atualizar() {
            display.value = escreverData(input.value)
        }

        // Pega o input, divide a string, reformata e retorona ela
        function escreverData(dataIn) {
            let dataPart = dataIn.split("/");
            return `${dataPart[0]} de ${mes(dataPart[1])} de ${dataPart[2]}`;
        }

        // Adiciona 0s
        function ad0s(num, tamanho) {
            num = num.toString();
            while (num.length < tamanho) {
                num = "0" + num;
            }
            return num;
        }

        // Retorna os dias da semana
        function diaDaSemana(num) {
            switch (num) {
                case 0:
                    return "Domingo"
                case 1:
                    return "Segunda-feira"
                case 2:
                    return "Terça-feira"
                case 3:
                    return "Quarta-feira"
                case 4:
                    return "Quinta-feira"
                case 5:
                    return "Sexta-feira"
                case 6:
                    return "Sábado"
            }
        }

        // Retorna os Meses
        function mes(num) {
            switch (num) {
                case "1":
                case "01":
                    return "janeiro"
                case "2":
                case "02":
                    return "fevereiro"
                case "3":
                case "03":
                    return "março"
                case "4":
                case "04":
                    return "abril"
                case "5":
                case "05":
                    return "maio"
                case "6":
                case "06":
                    return "junho"
                case "7":
                case "07":
                    return "julho"
                case "8":
                case "08":
                    return "agosto"
                case "9":
                case "09":
                    return "setembro"
                case "10":
                    return "outubro"
                case "11":
                    return "novembro"
                case "12":
                    return "dezembro"
            }
        }
    </script>


</head>

<body>
    <h1 id="dia-de-hoje"></h1>
    <hr>
    <input id="input" class="sem-foco" name="caixaInput" type="text" placeholder="DD/MM/AAAA">
    <button onclick="atualizar()">Mostrar</button>
    <input id="display" class="sem-foco" name="caixaInput" type="text" placeholder="Resultado aqui." readonly>
    <hr>

</body>

</html>